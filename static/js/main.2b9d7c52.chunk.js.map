{"version":3,"sources":["Components/Nav.js","Components/Welcome.js","Components/Search.js","Components/Passengers.js","Components/Tickets.js","Containers/StepsLayout.js","Utils/api.js","Machines/bookingMachine.js","Containers/BaseLayout.js","App.js","index.js"],"names":["Nav","_ref","state","send","react_default","a","createElement","className","matches","onClick","Welcome","Search","_useState","useState","_useState2","Object","slicedToArray","flight","setFlight","options","context","countries","id","value","onChange","event","target","disabled","defaultValue","map","option","name","common","key","selectedCountry","Passengers","changeValue","passengers","onSubmit","e","preventDefault","newPassenger","role","aria-labelledby","person","idx","concat","type","placeholder","required","Tickets","StepsLayout","Welcome_Welcome","Search_Search","Tickets_Tickets","Passengers_Passengers","fetchCountries","fetch","then","response","json","fillCountries","initial","states","loading","invoke","src","onDone","actions","assign","data","onError","error","success","failure","on","RETRY","bookingMachine","createMachine","predictableActionArguments","START","search","objectSpread","CONTINUE","CANCEL","tickets","after","5000","FINISH","DONE","cond","ADD","push","cleanContext","guards","moreThanOnePassenger","length","BaseLayout","_useMachine","useMachine","_useMachine2","console","log","Nav_Nav","StepsLayout_StepsLayout","App","BaseLayout_BaseLayout","ReactDOM","createRoot","document","getElementById","render","StrictMode","src_App"],"mappings":"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","file":"static/js/main.2b9d7c52.chunk.js","sourcesContent":["import React from \"react\";\nimport \"../Styles/Components/Nav.css\";\n\nexport const Nav = ({ state, send }) => {\n\tconst goToWelcome = () => {\n\t\tsend(\"CANCEL\");\n\t};\n\n\treturn (\n\t\t<nav className=\"Nav\">\n\t\t\t<h1 className=\"Nav-logo\">Book a fly ✈</h1>\n\t\t\t{!state.matches(\"initial\") && !state.matches(\"tickets\") && (\n\t\t\t\t<button onClick={goToWelcome} className=\"Nav-cancel button-secondary\">\n\t\t\t\t\tCancelar\n\t\t\t\t</button>\n\t\t\t)}\n\t\t</nav>\n\t);\n};\n","import React from \"react\";\nimport \"../Styles/Components/Welcome.css\";\n\nexport const Welcome = ({ send }) => {\n\tconst startBooking = () => {\n\t\tsend(\"START\");\n\t};\n\n\treturn (\n\t\t<div className=\"Welcome\">\n\t\t\t<p className=\"Welcome-title title\">¡Hoy es el día!</p>\n\t\t\t<p className=\"Welcome-description description\">\n\t\t\t\tCompra tu vuelo y conoce un nuevo rincón del mundo, te va a sorprender las maravillas\n\t\t\t\tque hay para explorar\n\t\t\t</p>\n\t\t\t<button onClick={startBooking} className=\"Welcome-cancel button\">\n\t\t\t\tComenzar\n\t\t\t</button>\n\t\t</div>\n\t);\n};\n","import React, { useState } from \"react\";\nimport \"../Styles/Components/Search.css\";\n\nexport const Search = ({ state, send }) => {\n\tconst [flight, setFlight] = useState(\"\");\n\n\tconst goToPassengers = () => {\n\t\tsend(\"CONTINUE\", { selectedCountry: flight });\n\t};\n\n\tconst handleSelectChange = (event) => {\n\t\tsetFlight(event.target.value);\n\t};\n\n\tconst options = state.context.countries;\n\n\treturn (\n\t\t<div className=\"Search\">\n\t\t\t<p className=\"Search-title title\">Busca tu destino</p>\n\t\t\t<select\n\t\t\t\tid=\"country\"\n\t\t\t\tclassName=\"Search-select\"\n\t\t\t\tvalue={flight}\n\t\t\t\tonChange={handleSelectChange}\n\t\t\t>\n\t\t\t\t<option value=\"\" disabled defaultValue>\n\t\t\t\t\tEscoge un país\n\t\t\t\t</option>\n\t\t\t\t{options.map((option) => (\n\t\t\t\t\t<option value={option.name.common} key={option.name.common}>\n\t\t\t\t\t\t{option.name.common}\n\t\t\t\t\t</option>\n\t\t\t\t))}\n\t\t\t</select>\n\t\t\t<button\n\t\t\t\tonClick={goToPassengers}\n\t\t\t\tdisabled={flight === \"\"}\n\t\t\t\tclassName=\"Search-continue button\"\n\t\t\t>\n\t\t\t\tContinuar\n\t\t\t</button>\n\t\t</div>\n\t);\n};\n","import React, { useState } from \"react\";\nimport \"../Styles/Components/Passengers.css\";\n\nexport const Passengers = ({ state, send }) => {\n\tconst [value, changeValue] = useState(\"\");\n\n\tconst onChangeInput = (e) => {\n\t\tchangeValue(e.target.value);\n\t};\n\n\tconst goToTicket = () => {\n\t\tsend(\"DONE\");\n\t};\n\n\tconst submit = (e) => {\n\t\te.preventDefault();\n\t\tsend(\"ADD\", { newPassenger: value });\n\t\tchangeValue(\"\");\n\t};\n\n\tconst { passengers } = state.context;\n\n\treturn (\n\t\t<form onSubmit={submit} className=\"Passengers\">\n\t\t\t<p className=\"Passengers-title title\">Agrega a las personas que van a volar </p>\n\t\t\t<span role=\"img\" aria-labelledby=\"airplane\">\n\t\t\t\t✈️\n\t\t\t</span>\n\t\t\t{passengers.map((person, idx) => (\n\t\t\t\t<p className=\"text\" key={`person-${idx}`}>\n\t\t\t\t\t{person}\n\t\t\t\t</p>\n\t\t\t))}\n\t\t\t<input\n\t\t\t\tid=\"name\"\n\t\t\t\tname=\"name\"\n\t\t\t\ttype=\"text\"\n\t\t\t\tplaceholder=\"Escribe el nombre completo\"\n\t\t\t\trequired\n\t\t\t\tvalue={value}\n\t\t\t\tonChange={onChangeInput}\n\t\t\t/>\n\t\t\t<div className=\"Passengers-buttons\">\n\t\t\t\t<button className=\"Passengers-add button-secondary\" type=\"submit\">\n\t\t\t\t\tAgregar Pasajero\n\t\t\t\t</button>\n\t\t\t\t<button className=\"Passenger-pay button\" type=\"button\" onClick={goToTicket}>\n\t\t\t\t\tVer mi ticket\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</form>\n\t);\n};\n","import React from \"react\";\nimport \"../Styles/Components/Tickets.css\";\n\nexport const Tickets = ({ send, context }) => {\n\tconst finish = () => {\n\t\tsend(\"FINISH\");\n\t};\n\n\treturn (\n\t\t<div className=\"Tickets\">\n\t\t\t<p className=\"Tickets-description description\">Gracias por volar con book a fly </p>\n\t\t\t<span role=\"img\" aria-labelledby=\"heart\">\n\t\t\t\t💚\n\t\t\t</span>\n\t\t\t<div className=\"Tickets-ticket\">\n\t\t\t\t<div className=\"Tickets-country\"> {context.selectedCountry}</div>\n\t\t\t\t<div className=\"Tickets-passengers\">\n\t\t\t\t\t<span>✈</span>\n\t\t\t\t\t{context.passengers.map((person, idx) => {\n\t\t\t\t\t\treturn <p key={idx}>{person}</p>;\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<button onClick={finish} className=\"Tickets-finalizar button\">\n\t\t\t\tFinalizar\n\t\t\t</button>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { Welcome } from \"../Components/Welcome\";\nimport { Search } from \"../Components/Search\";\nimport { Passengers } from \"../Components/Passengers\";\nimport { Tickets } from \"../Components/Tickets\";\nimport \"../Styles/Containers/StepsLayout.css\";\n\nexport const StepsLayout = ({ state, send }) => {\n\tconst renderContent = () => {\n\t\tif (state.matches(\"initial\")) return <Welcome send={send} />;\n\t\tif (state.matches(\"search\")) return <Search state={state} send={send} />;\n\t\tif (state.matches(\"tickets\")) return <Tickets send={send} context={state.context} />;\n\t\tif (state.matches(\"passengers\")) return <Passengers state={state} send={send} />;\n\t\treturn null;\n\t};\n\n\treturn <div className=\"StepsLayout\">{renderContent()}</div>;\n};\n","export const fetchCountries = () =>\n\tfetch(\"https://restcountries.com/v3.1/region/ame\").then((response) => response.json());\n","import { createMachine, assign } from \"xstate\";\nimport { fetchCountries } from \"../Utils/api\";\n\nconst fillCountries = {\n\tinitial: \"loading\",\n\tstates: {\n\t\tloading: {\n\t\t\tinvoke: {\n\t\t\t\tid: \"getCountries\",\n\t\t\t\tsrc: () => fetchCountries,\n\t\t\t\tonDone: {\n\t\t\t\t\ttarget: \"success\",\n\t\t\t\t\tactions: assign({\n\t\t\t\t\t\tcountries: (context, event) => event.data,\n\t\t\t\t\t}),\n\t\t\t\t},\n\t\t\t\tonError: {\n\t\t\t\t\ttarget: \"failure\",\n\t\t\t\t\tactions: assign({\n\t\t\t\t\t\terror: \"Fallo el request\",\n\t\t\t\t\t}),\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tsuccess: {},\n\t\tfailure: {\n\t\t\ton: {\n\t\t\t\tRETRY: { target: \"loading\" },\n\t\t\t},\n\t\t},\n\t},\n};\n\nconst bookingMachine = createMachine(\n\t{\n\t\tpredictableActionArguments: true,\n\t\tid: \"buy plane tickets\",\n\t\tinitial: \"initial\",\n\t\tcontext: {\n\t\t\tpassengers: [],\n\t\t\tselectedCountry: \"\",\n\t\t\tcountries: [],\n\t\t\terror: \"\",\n\t\t},\n\t\tstates: {\n\t\t\tinitial: {\n\t\t\t\ton: {\n\t\t\t\t\tSTART: {\n\t\t\t\t\t\ttarget: \"search\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tsearch: {\n\t\t\t\ton: {\n\t\t\t\t\tCONTINUE: {\n\t\t\t\t\t\ttarget: \"passengers\",\n\t\t\t\t\t\tactions: assign({\n\t\t\t\t\t\t\tselectedCountry: (context, event) => event.selectedCountry,\n\t\t\t\t\t\t}),\n\t\t\t\t\t},\n\t\t\t\t\tCANCEL: \"initial\",\n\t\t\t\t},\n\t\t\t\t...fillCountries,\n\t\t\t},\n\t\t\ttickets: {\n\t\t\t\tafter: {\n\t\t\t\t\t5000: {\n\t\t\t\t\t\ttarget: \"initial\",\n\t\t\t\t\t\tactions: \"cleanContext\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\ton: {\n\t\t\t\t\tFINISH: \"initial\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tpassengers: {\n\t\t\t\ton: {\n\t\t\t\t\tDONE: {\n\t\t\t\t\t\ttarget: \"tickets\",\n\t\t\t\t\t\tcond: \"moreThanOnePassenger\",\n\t\t\t\t\t},\n\t\t\t\t\tCANCEL: {\n\t\t\t\t\t\ttarget: \"initial\",\n\t\t\t\t\t\tactions: \"cleanContext\",\n\t\t\t\t\t},\n\t\t\t\t\tADD: {\n\t\t\t\t\t\ttarget: \"passengers\",\n\t\t\t\t\t\tactions: assign((context, event) =>\n\t\t\t\t\t\t\tcontext.passengers.push(event.newPassenger)\n\t\t\t\t\t\t),\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t},\n\t{\n\t\tactions: {\n\t\t\tcleanContext: assign({\n\t\t\t\tselectedCountry: \"\",\n\t\t\t\tpassengers: [],\n\t\t\t}),\n\t\t},\n\t\tguards: {\n\t\t\tmoreThanOnePassenger: (context) => {\n\t\t\t\treturn context.passengers.length > 0;\n\t\t\t},\n\t\t},\n\t}\n);\n\nexport default bookingMachine;\n","import React from \"react\";\nimport { useMachine } from \"@xstate/react\";\nimport { Nav } from \"../Components/Nav\";\nimport { StepsLayout } from \"./StepsLayout\";\nimport bookingMachine from \"../Machines/bookingMachine\";\nimport \"../Styles/Containers/BaseLayout.css\";\n\nexport const BaseLayout = () => {\n\tconst [state, send] = useMachine(bookingMachine);\n\n\tconsole.log(\"nuestra maquina\", state.value, state.context);\n\n\treturn (\n\t\t<div className=\"BaseLayout\">\n\t\t\t<Nav state={state} send={send} />\n\t\t\t<StepsLayout state={state} send={send} />\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { BaseLayout } from \"./Containers/BaseLayout\";\nimport \"./Styles/App.css\";\n\nfunction App() {\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<BaseLayout />\n\t\t</div>\n\t);\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./Styles/index.css\";\n\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\nroot.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>\n);\n"],"sourceRoot":""}